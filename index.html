<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />

    <title>Fresh Market</title>

    <script src="https://unpkg.com/feather-icons"></script>

    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <style>
      body {
        scroll-behavior: smooth;
      }
      .text-teal-900 {
        color: #09605a !important;
      }
      .bg-orange-100 {
        background-color: #fff5e1;
      }
      .navbar-nav .nav-link:hover {
        color: #09605a !important;
      }
      .add:hover {
        background-color: #09605a;
        border: none;
        color: white;
      }
      .cart-icon-wrapper {
        position: relative;
        cursor: pointer;
      }
    </style>

    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-2ZLJ5JYCF9"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-2ZLJ5JYCF9");
    </script>
  </head>
  <body class="bg-orange-100">
    <nav
      class="navbar navbar-expand-lg navbar-light bg-orange-100 px-4 py-3 sticky-top shadow-sm"
    >
      <div class="container-fluid">
        <a
          class="navbar-brand d-flex align-items-center text-teal-900"
          href="#"
          style="font-size: 1.8rem"
        >
          <img src="img/logo.png" alt="Logo" style="width: 60px" />
          <strong class="ms-2">Fresh Mart</strong>
        </a>
        <div class="d-flex align-items-center">
          <div class="me-3 d-lg-none cart-icon-wrapper">
            <i data-feather="shopping-cart" class="text-teal-900"></i>
            <span
              id="cart-count-mobile"
              class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"
              style="font-size: 0.6rem; display: none"
            ></span>
          </div>
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarNavAltMarkup"
            aria-controls="navbarNavAltMarkup"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
        </div>
        <div
          class="collapse navbar-collapse justify-content-center align-items-center"
          id="navbarNavAltMarkup"
        >
          <div class="navbar-nav mx-auto text-center">
            <a class="nav-link px-3 text-dark" href="#home">Home</a>
            <a class="nav-link px-3 text-dark" href="#about">About</a>
            <a class="nav-link px-3 text-dark" href="#shop">Shop</a>
            <a class="nav-link px-3 text-dark" href="#contact">Contact</a>
          </div>
        </div>
        <div class="d-none d-lg-block cart-icon-wrapper">
          <i data-feather="shopping-cart" class="text-teal-900"></i>
          <span
            id="cart-count-desktop"
            class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"
            style="font-size: 0.6rem; display: none"
          ></span>
        </div>
      </div>
    </nav>
    <div class="container-fluid px-0 mb-5 pb-5 mx-0" id="home">
      <div
        id="carouselExampleCaptions"
        class="carousel slide"
        data-bs-ride="carousel"
      >
        <div class="carousel-inner">
          <div class="carousel-item active">
            <img
              src="img/hero1.jpg"
              class="d-block w-100"
              alt="..."
              style="height: 480px; object-fit: cover"
            />
            <div
              class="carousel-caption d-flex flex-column justify-content-center align-items-center text-center"
              style="
                position: absolute;
                background-color: rgba(255, 245, 225, 0.6);
                color: #134e4a;
                width: 100%;
                height: 100%;
                left: 0;
                top: 0;
                font-size: 1.2rem;
              "
            >
              <h4 style="font-weight: 700">Fresh Mart</h4>
              <p>FRESH CHOICES FOR SMART LIVING</p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="promo py-5">
      <div class="container px-5 text-center">
        <div class="text" style="color: #09605a">
          <h2 style="font-weight: 700">Weekly Deals</h2>
        </div>
        <div class="row g-4 mt-4">
          <div class="col-lg-3 col-md-4 col-sm-6 col-12">
            <figure class="figure">
              <img
                src="img/promo1.png"
                class="figure-img img-fluid rounded"
                alt="Apel"
              />
              <figcaption class="figure-caption">
                <h6>Apel</h6>
                <p><s>IDR 20K</s> IDR 15K</p>
                <button
                  class="btn btn-outline-success w-100 add"
                  style="font-size: small"
                  data-product-id="P001"
                  data-product-name="Apel"
                  data-product-price="15000"
                >
                  Add to Cart
                </button>
              </figcaption>
            </figure>
          </div>
          <div class="col-lg-3 col-md-4 col-sm-6 col-12">
            <figure class="figure">
              <img
                src="img/promo2.png"
                class="figure-img img-fluid rounded"
                alt="Telur"
              />
              <figcaption class="figure-caption">
                <h6>Telur</h6>
                <p><s>IDR 20K</s> IDR 15K</p>
                <button
                  class="btn btn-outline-success w-100 add"
                  style="font-size: small"
                  data-product-id="P002"
                  data-product-name="Telur"
                  data-product-price="15000"
                >
                  Add to Cart
                </button>
              </figcaption>
            </figure>
          </div>
          <div class="col-lg-3 col-md-4 col-sm-6 col-12">
            <figure class="figure">
              <img
                src="img/promo3.png"
                class="figure-img img-fluid rounded"
                alt="Tomat"
              />
              <figcaption class="figure-caption">
                <h6>Tomat</h6>
                <p><s>IDR 20K</s> IDR 15K</p>
                <button
                  class="btn btn-outline-success w-100 add"
                  style="font-size: small"
                  data-product-id="P003"
                  data-product-name="Tomat"
                  data-product-price="15000"
                >
                  Add to Cart
                </button>
              </figcaption>
            </figure>
          </div>
          <div class="col-lg-3 col-md-4 col-sm-6 col-12">
            <figure class="figure">
              <img
                src="img/promo4.png"
                class="figure-img img-fluid rounded"
                alt="Sunlight"
              />
              <figcaption class="figure-caption">
                <h6>Sunlight</h6>
                <p><s>IDR 20K</s> IDR 15K</p>
                <button
                  class="btn btn-outline-success w-100 add"
                  style="font-size: small"
                  data-product-id="P004"
                  data-product-name="Sunlight"
                  data-product-price="15000"
                >
                  Add to Cart
                </button>
              </figcaption>
            </figure>
          </div>
        </div>
      </div>
    </div>
    <div class="about text-center px-3 px-md-5 my-5" id="about">
      <div class="container p-4 p-md-5" style="background-color: white">
        <h2 class="pb-3 pb-md-4" style="font-weight: 700; color: #09605a">
          About Our Market
        </h2>
        <div class="text-center">
          <img
            src="img/about.png"
            class="img-fluid py-3"
            alt="About Fresh Market"
            style="width: 100%; max-width: 600px"
          />
        </div>
        <p class="px-3 px-md-5 pt-3 mx-auto" style="max-width: 800px">
          Fresh Market is your go-to destination for high-quality, fresh, and
          affordable groceries. We are committed to providing a pleasant
          shopping experience with a wide selection of local and imported
          products. From farm-fresh vegetables and fruits to daily household
          essentials, we ensure that every item you purchase meets our strict
          quality standards. At Fresh Market, we believe that everyone deserves
          access to healthy and nutritious food. Thatâ€™s why we prioritize
          freshness, cleanliness, and friendly service in every corner of our
          store. More than just a supermarket, Fresh Market is a community hub
          where trust and convenience come together to support your everyday
          needs.
        </p>
      </div>
    </div>
    <div class="shop my-5 px-5" id="shop">
      <div class="container py-3" style="background-color: white">
        <h1
          class="text-center mt-5 pt-5"
          style="color: #09605a; font-weight: 700"
        >
          All Products
        </h1>
        <div class="row g-5 p-5">
          <div class="col-md-3 col-sm-6">
            <div class="card h-100">
              <img
                src="img/pr1.png"
                class="card-img-top"
                alt="Susu"
                style="height: 12rem; object-fit: cover"
              />
              <div class="card-body text-center" style="font-size: small">
                <h5 class="card-title">Susu</h5>
                <p class="card-text">IDR 20K</p>
                <button
                  class="btn btn-outline-success w-100 add"
                  style="font-size: small"
                  data-product-id="S001"
                  data-product-name="Susu"
                  data-product-price="20000"
                >
                  Add to Cart
                </button>
              </div>
            </div>
          </div>
          <div class="col-md-3 col-sm-6">
            <div class="card h-100">
              <img
                src="img/pr2.png"
                class="card-img-top"
                alt="Kentang"
                style="height: 12rem; object-fit: cover"
              />
              <div class="card-body text-center" style="font-size: small">
                <h5 class="card-title">Kentang</h5>
                <p class="card-text">IDR 15K</p>
                <button
                  class="btn btn-outline-success w-100 add"
                  style="font-size: small"
                  data-product-id="S002"
                  data-product-name="Kentang"
                  data-product-price="15000"
                >
                  Add to Cart
                </button>
              </div>
            </div>
          </div>
          <div class="col-md-3 col-sm-6">
            <div class="card h-100">
              <img
                src="img/pr3.png"
                class="card-img-top"
                alt="Sereal"
                style="height: 12rem; object-fit: cover"
              />
              <div class="card-body text-center" style="font-size: small">
                <h5 class="card-title">Sereal</h5>
                <p class="card-text">IDR 25K</p>
                <button
                  class="btn btn-outline-success w-100 add"
                  style="font-size: small"
                  data-product-id="S003"
                  data-product-name="Sereal"
                  data-product-price="25000"
                >
                  Add to Cart
                </button>
              </div>
            </div>
          </div>
          <div class="col-md-3 col-sm-6">
            <div class="card h-100">
              <img
                src="img/pr4.png"
                class="card-img-top"
                alt="Bayam"
                style="height: 12rem; object-fit: cover"
              />
              <div class="card-body text-center" style="font-size: small">
                <h5 class="card-title">Bayam</h5>
                <p class="card-text">IDR 10K</p>
                <button
                  class="btn btn-outline-success w-100 add"
                  style="font-size: small"
                  data-product-id="S004"
                  data-product-name="Bayam"
                  data-product-price="10000"
                >
                  Add to Cart
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="contact my-5" id="contact">
      <div class="container p-4 p-md-5 bg-white shadow-sm">
        <div
          class="bagian1 text-center px-3 px-md-5 pb-4"
          style="color: #134e4a"
        >
          <h1>Contact Us!</h1>
          <p>
            Got questions or feedback? Weâ€™re here to help! Reach us via phone,
            email, or visit our store. Follow us on social media for the latest
            updates and offers. At Fresh Market, youâ€™re always welcome.
          </p>
        </div>
        <div class="bagian2">
          <div class="container overflow-hidden">
            <div class="row gx-4 gy-4">
              <div class="col-12 col-md-4">
                <div class="p-3 bg-white h-100 border">
                  <p style="color: #134e4a; font-weight: 600">CONTACT</p>
                  <p class="mb-0 text-break">
                    Tel: 123-278-7761 <br />Email:
                    <span class="text-break">freshmart@gmail.com</span>
                  </p>
                </div>
              </div>
              <div class="col-12 col-md-4">
                <div class="p-3 bg-white h-100 border">
                  <p style="color: #134e4a; font-weight: 600">ADDRESS</p>
                  <p class="mb-0">
                    Jl. Raya Abdul Wahab, No.16 Kec. Sawangan, Kota Tangerang
                  </p>
                </div>
              </div>
              <div class="col-12 col-md-4">
                <div class="p-3 bg-white h-100 border rounded">
                  <p style="color: #134e4a; font-weight: 600">OPENING HOURS</p>
                  <p class="mb-0">
                    Mon - Fri: 7am - 10pm <br />Saturday: 8am - 10pm
                    <br />Sunday: 8am - 11pm
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <footer
      class="container-fluid py-3 text-center"
      style="background-color: #134e4a; color: white"
    >
      <p class="m-0">&copy; 2025 by Fresh Mart.</p>
    </footer>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>

    <script>
      feather.replace();
    </script>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        // Namespace untuk fungsi agar bisa diakses oleh onclick
        window.cartApp = {};

        let cart = JSON.parse(localStorage.getItem("freshMartCart")) || [];
        const cartCountMobileEl = document.getElementById("cart-count-mobile");
        const cartCountDesktopEl =
          document.getElementById("cart-count-desktop");
        const addToCartButtons = document.querySelectorAll(".add");
        const cartIcons = document.querySelectorAll(".cart-icon-wrapper");

        const updateCartDisplay = () => {
          const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
          const displayElements = [cartCountMobileEl, cartCountDesktopEl];
          displayElements.forEach((el) => {
            if (el) {
              if (totalItems > 0) {
                el.textContent = totalItems;
                el.style.display = "inline-block";
              } else {
                el.style.display = "none";
              }
            }
          });
        };

        const saveCart = () => {
          localStorage.setItem("freshMartCart", JSON.stringify(cart));
        };

        // menghapus satu item
        window.cartApp.removeItem = (productId) => {
          cart = cart.filter((item) => item.id !== productId);
          saveCart();
          updateCartDisplay();
          Swal.fire(
            "Terhapus!",
            "Item telah dihapus dari keranjang.",
            "success"
          );
        };

        // mengosongkan keranjang
        window.cartApp.clearCart = () => {
          Swal.fire({
            title: "Anda yakin?",
            text: "Semua item di keranjang akan dihapus!",
            icon: "warning",
            showCancelButton: true,
            confirmButtonColor: "#d33",
            cancelButtonText: "Batal",
            confirmButtonText: "Ya, kosongkan!",
          }).then((result) => {
            if (result.isConfirmed) {
              cart = [];
              saveCart();
              updateCartDisplay();
              Swal.fire(
                "Dikosongkan!",
                "Keranjang Anda sekarang kosong.",
                "success"
              );
            }
          });
        };

        const addItemToCart = (productId, productName, productPrice) => {
          const price = parseInt(productPrice);
          const existingProductIndex = cart.findIndex(
            (item) => item.id === productId
          );

          if (existingProductIndex > -1) {
            cart[existingProductIndex].quantity += 1;
          } else {
            cart.push({
              id: productId,
              name: productName,
              price: price,
              quantity: 1,
            });
          }

          saveCart();
          updateCartDisplay();

          Swal.fire({
            toast: true,
            position: "top-end",
            icon: "success",
            title: `${productName} ditambahkan!`,
            showConfirmButton: false,
            timer: 1500,
            timerProgressBar: true,
            didOpen: (toast) => {
              toast.addEventListener("mouseenter", Swal.stopTimer);
              toast.addEventListener("mouseleave", Swal.resumeTimer);
            },
          });
        };

        // Fungsi showCartDetails kini memiliki tombol hapus
        const showCartDetails = () => {
          if (cart.length === 0) {
            Swal.fire({
              title: "Keranjang Kosong",
              text: "Anda belum menambahkan produk apapun.",
              icon: "info",
            });
            return;
          }

          let cartDetailsHTML = '<div style="text-align: left;">';
          let totalOverallPrice = 0;

          cart.forEach((item) => {
            const itemTotalPrice = item.price * item.quantity;
            cartDetailsHTML += `
          <div class="d-flex justify-content-between align-items-center mb-2">
            <div>
              <strong>${item.name}</strong><br>
              <small>${item.quantity} x IDR ${item.price.toLocaleString(
              "id-ID"
            )}</small>
            </div>
            <button class="btn btn-sm btn-outline-danger" onclick="window.cartApp.removeItem('${
              item.id
            }')" title="Hapus item">
              Hapus
            </button>
          </div>
        `;
            totalOverallPrice += itemTotalPrice;
          });

          cartDetailsHTML += "</div>";

          Swal.fire({
            title: "ðŸ›’ Isi Keranjang Anda",
            html: cartDetailsHTML,
            footer: `
          <div class="d-flex justify-content-between w-100 align-items-center">
            <strong>Total: IDR ${totalOverallPrice.toLocaleString(
              "id-ID"
            )}</strong>
            <a href="#" style="font-size: 0.8rem;" onclick="event.preventDefault(); window.cartApp.clearCart()">Kosongkan Keranjang</a>
          </div>`,
            confirmButtonText: "Tutup",
          });
        };

        addToCartButtons.forEach((button) => {
          button.addEventListener("click", (event) => {
            const targetButton = event.currentTarget;
            const { productId, productName, productPrice } =
              targetButton.dataset;
            if (productId && productName && productPrice) {
              addItemToCart(productId, productName, productPrice);
            }
          });
        });

        cartIcons.forEach((icon) => {
          icon.addEventListener("click", (e) => {
            e.preventDefault();
            showCartDetails();
          });
        });

        updateCartDisplay();
      });
    </script>
  </body>
</html>
